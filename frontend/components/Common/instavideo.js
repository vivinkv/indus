import { ImageUrl } from '@/Common/image-url';
import Link from 'next/link';
import React, { useRef, useState } from 'react';

const Storiesvideo = ({ data }) => {
    const [isMuted, setIsMuted] = useState(true);
    const videoRef = useRef(null);

    const toggleMute = () => {
        if (videoRef.current) {
            videoRef.current.muted = !videoRef.current.muted;
            setIsMuted(videoRef.current.muted);
        }
    };


    return (
        <div className='stories-list'>
            <video
                ref={videoRef}
                className='w-full h-full object-cover outline-none'
                autoPlay
                muted={isMuted}
                loop
                src={ImageUrl(data?.Instagram_Shorts?.url)}
            />
            <div className='stories-list-cap flex items-center justify-end '>

                <button
                    className={isMuted ? 'muted' : ''}
                    onClick={toggleMute}
                >
                    {isMuted ?
                        ''
                        :
                        ''}

                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 18" fill="none">
                        <path d="M11 1L5.44444 5.57143H1L1 12.4286H5.44444L11 17V1Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M19.8263 1C21.8584 3.12195 23 5.99956 23 9C23 12.0004 21.8584 14.878 19.8263 17M16 4.99434C17.016 6.05532 17.5868 7.49412 17.5868 8.99434C17.5868 10.4946 17.016 11.9334 16 12.9943" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>


            </div>
            <Link href={data?.Instagram_Link || '#'} target='_blank'>
                <div div className='stories-insta-cntr flex items-center justify-between'>
                    <div className='flex items-center'>

                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 25 25" fill="none">
                            <path d="M20.6729 5.82797C20.6729 4.9971 19.9995 4.32622 19.1717 4.32622C18.3439 4.32622 17.6699 4.9971 17.6699 5.82797C17.6699 6.65578 18.3439 7.32666 19.1717 7.32666C19.9995 7.32666 20.6729 6.65578 20.6729 5.82797Z" fill="#FFF9E7" />
                            <path d="M22.6735 17.5505C22.6179 18.7693 22.414 19.4315 22.2448 19.8714C22.0174 20.4545 21.7463 20.8715 21.3064 21.3089C20.8715 21.7463 20.4545 22.0168 19.8714 22.2417C19.4315 22.4134 18.7668 22.6179 17.548 22.676C16.2303 22.7341 15.8399 22.7464 12.4984 22.7464C9.16011 22.7464 8.76657 22.7341 7.44889 22.676C6.23009 22.6179 5.56847 22.4134 5.1286 22.2417C4.54236 22.0168 4.12848 21.7463 3.69111 21.3089C3.25063 20.8715 2.97945 20.4545 2.75521 19.8714C2.58591 19.4315 2.379 18.7693 2.32646 17.5505C2.26224 16.2328 2.25047 15.8362 2.25047 12.5016C2.25047 9.16011 2.26224 8.76656 2.32646 7.44889C2.379 6.23009 2.58591 5.56847 2.75521 5.12489C2.97945 4.54236 3.25063 4.12783 3.69111 3.69046C4.12848 3.25373 4.54236 2.98251 5.1286 2.75521C5.56847 2.58285 6.23009 2.38145 7.44889 2.32339C8.76657 2.26529 9.16011 2.25047 12.4984 2.25047C15.8399 2.25047 16.2303 2.26529 17.548 2.32339C18.7668 2.38145 19.4315 2.58285 19.8714 2.75521C20.4545 2.98251 20.8715 3.25373 21.3064 3.69046C21.7463 4.12783 22.0174 4.54236 22.2448 5.12489C22.414 5.56847 22.6179 6.23009 22.6735 7.44889C22.7347 8.76656 22.7495 9.16011 22.7495 12.5016C22.7495 15.8362 22.7347 16.2328 22.6735 17.5505ZM24.924 7.34636C24.8629 6.01446 24.6528 5.1045 24.3408 4.31195C24.0233 3.4897 23.5977 2.79287 22.9008 2.09604C22.2071 1.40232 21.5103 0.976669 20.688 0.655451C19.8924 0.346558 18.9855 0.134033 17.653 0.0759792C16.3205 0.0117188 15.8949 -5.72205e-06 12.4984 -5.72205e-06C9.10511 -5.72205e-06 8.6764 0.0117188 7.3439 0.0759792C6.01446 0.134033 5.10821 0.346558 4.30885 0.655451C3.48971 0.976669 2.79288 1.40232 2.09915 2.09604C1.40232 2.79287 0.976673 3.4897 0.656057 4.31195C0.347164 5.1045 0.137142 6.01446 0.0728798 7.34636C0.0148261 8.67886 0 9.10511 0 12.5016C0 15.8949 0.0148261 16.3205 0.0728798 17.653C0.137142 18.9824 0.347164 19.8917 0.656057 20.688C0.976673 21.5072 1.40232 22.2071 2.09915 22.9008C2.79288 23.5946 3.48971 24.0233 4.30885 24.3439C5.10821 24.6528 6.01446 24.8629 7.3439 24.924C8.6764 24.9852 9.10511 25 12.4984 25C15.8949 25 16.3205 24.9852 17.653 24.924C18.9855 24.8629 19.8924 24.6528 20.688 24.3439C21.5103 24.0233 22.2071 23.5946 22.9008 22.9008C23.5977 22.2071 24.0233 21.5072 24.3408 20.688C24.6528 19.8917 24.8629 18.9824 24.924 17.653C24.9852 16.3205 25 15.8949 25 12.5016C25 9.10511 24.9852 8.67886 24.924 7.34636Z" fill="#FFF9E7" />
                            <path d="M12.4987 16.6644C10.1987 16.6644 8.3325 14.8012 8.3325 12.5013C8.3325 10.1977 10.1987 8.33209 12.4987 8.33209C14.7992 8.33209 16.6679 10.1977 16.6679 12.5013C16.6679 14.8012 14.7992 16.6644 12.4987 16.6644ZM12.4987 6.07852C8.95335 6.07852 6.08203 8.956 6.08203 12.5013C6.08203 16.0435 8.95335 18.918 12.4987 18.918C16.044 18.918 18.9184 16.0435 18.9184 12.5013C18.9184 8.956 16.044 6.07852 12.4987 6.07852Z" fill="#FFF9E7" />
                        </svg> view on instagram


                    </div>

                    <svg xmlns="http://www.w3.org/2000/svg" width="7" height="11" viewBox="0 0 7 11" fill="none">
                        <path d="M1 1L6 5.5L1 10" stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>

                </div>
            </Link>
        </div >
    );
};

export default Storiesvideo;